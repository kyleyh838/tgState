
# æ¼”ç¤º
éƒ¨ç½²åœ¨Serv00ï¼Œå¶å°”å¯èƒ½æŠ½é£ğŸ˜‚   
https://imgs.vwwv.eu.org

æ¼”ç¤ºå›¾ç‰‡ï¼š

![tgState](https://imgs.vwwv.eu.org/d/CAACAgUAAxkDAANJZu6ELCirivGdotUx9HbfV-mjxHoAAjcSAAKb_XBX5KYKF29fU8g2BA)  

# å‚æ•°è¯´æ˜

å¿…å¡«å‚æ•°

 - target
 - token

å¯é€‰å‚æ•°

 - pass
 - mode
 - url
 - PORT
 - background

## target

ç›®æ ‡å¯ä¸ºé¢‘é“ã€ç¾¤ç»„ã€ä¸ªäºº

å½“ç›®æ ‡ä¸ºé¢‘é“æ—¶ï¼Œéœ€è¦å°†Botæ‹‰å…¥é¢‘é“ä½œä¸ºç®¡ç†å‘˜ï¼Œå…¬å¼€é¢‘é“å¹¶è‡ªå®šä¹‰é¢‘é“Linkï¼Œtargetå€¼å¡«å†™Linkï¼Œå¦‚@xxxx

å½“ç›®æ ‡ä¸ºç¾¤ç»„æ—¶ï¼Œéœ€è¦å°†Botæ‹‰å…¥ç¾¤ç»„ï¼Œå…¬å¼€ç¾¤ç»„å¹¶è‡ªå®šä¹‰ç¾¤ç»„Linkï¼Œtargetå€¼å¡«å†™Linkï¼Œå¦‚@xxxx

å½“ç›®æ ‡ä¸ºä¸ªäººæ—¶ï¼Œåˆ™ä¸ºtelegram id(@getmyid_botè·å–)

## token

å¡«å†™ä½ çš„bot token

## pass

å¡«å†™è®¿é—®å¯†ç ï¼Œå¦‚ä¸éœ€è¦ï¼Œç•™ç©ºå³å¯

## mode

 - ```p``` ä»£è¡¨ç½‘ç›˜æ¨¡å¼è¿è¡Œï¼Œä¸é™åˆ¶ä¸Šä¼ åç¼€
 - ```m``` åœ¨pæ¨¡å¼çš„åŸºç¡€ä¸Šå…³é—­ç½‘é¡µä¸Šä¼ ï¼Œå¯ç§èŠè¿›è¡Œä¸Šä¼ ï¼ˆå¦‚æœtargetæ˜¯ä¸ªäººï¼Œåˆ™åªæ”¯æŒæŒ‡å®šç”¨æˆ·è¿›è¡Œç§èŠä¸Šä¼ 
 - ç•™ç©ºä»¥çº¯å›¾åºŠæ¨¡å¼è¿è¡Œ

## url

botè·å–FileIDçš„å‰ç½®åŸŸååœ°å€è‡ªåŠ¨è¡¥å……åŠapiè¿”å›å®Œæ•´urlçš„è¡¥å……

## PORT

è‡ªå®šä¹‰è¿è¡Œç«¯å£

## background

èƒŒæ™¯å›¾ç‰‡,å¡«å…¥å›¾ç‰‡url,ç•™ç©ºçº¯è‰²   
å¦‚éœ€å¼€å¯è½®æ’­ï¼Œå¤šå¼ å›¾ç‰‡urlä»¥","åˆ†éš”

# ç®¡ç†

## è·å–FIleID

å¯¹botèŠå¤©ä¸­çš„æ–‡ä»¶å¼•ç”¨å¹¶å›å¤```get```å¯ä»¥è·å–FileIDï¼Œæ­å»ºåœ°å€+è·å–çš„pathå³å¯è®¿é—®èµ„æº

å¦‚æœé…ç½®äº†urlå‚æ•°ï¼Œä¼šç›´æ¥è¿”å›å®Œæ•´çš„åœ°å€

![image](https://github.com/csznet/tgState/assets/127601663/5b1fd6c0-652c-41de-bb63-e2f20b257022)

# äºŒè¿›åˆ¶éƒ¨ç½²

## æ‰‹åŠ¨

Linux amd64ä¸‹è½½

```
wget https://github.com/kyleyh838/tgState/releases/latest/download/tgState_linux_amd64.zip && unzip tgState_linux_amd64.zip && rm tgState_linux_amd64.zip
wget https://raw.githubusercontent.com/kyleyh838/tgState/refs/heads/edit/.env
```

Linux arm64ä¸‹è½½

```
wget https://github.com/kyleyh838/tgState/releases/latest/download/tgState_linux_arm64.zip && unzip tgState_linux_arm64.zip && rm tgState_linux_arm64.zip
wget https://raw.githubusercontent.com/kyleyh838/tgState/refs/heads/edit/.env
```
FreeBSD amd64ä¸‹è½½

```
wget https://github.com/kyleyh838/tgState/releases/latest/download/tgState_freebsd_amd64.zip && unzip tgState_freebsd_amd64.zip && rm tgState_freebsd_amd64.zip
wget https://raw.githubusercontent.com/kyleyh838/tgState/refs/heads/edit/.env
```

**ä½¿ç”¨æ–¹æ³•**

å¡«å†™å‚æ•°
```
vim .env
```

è¿è¡Œç¨‹åº
```
./tgState
```

**åå°è¿è¡Œ**

```
nohup ./tgState &
```

***

## ä¸€é”®è„šæœ¬

```
bash -c "$(curl -fsSL https://raw.githubusercontent.com/kyleyh838/tgState/refs/heads/edit/get.sh)"
```

# APIè¯´æ˜

POSTæ–¹æ³•åˆ°è·¯å¾„```/api```

è¡¨å•ä¼ è¾“ï¼Œå­—æ®µåä¸ºimageï¼Œå†…å®¹ä¸ºäºŒè¿›åˆ¶æ•°æ®  

å½“è®¾ç½®è®¿é—®å¯†ç æ—¶ï¼Œç›´æ¥å°†å¯†ç åŠ å…¥urlå‚æ•°passä¸­ï¼Œå¦‚å¯†ç ä¸º123ï¼š

```
/api?pass=123
```

è¿”å›ç¤ºä¾‹:  

```json
{"code": 1, "message": "/d/xxx","url":"xxx"}
```

jsonæ ¼å¼çš„`url`é»˜è®¤è¿”å›tgStateçš„`url`å‚æ•°+è®¿é—®è·¯å¾„ï¼Œå¦‚æœåªå¾—åˆ°äº†è·¯å¾„åˆ™éœ€è¦è‡ªè¡Œè®¾ç½®`url`å‚æ•°

picgo-plugin-web-uploaderå¡«å†™è¯´æ˜ï¼š  

POSTå‚æ•°åï¼š`image`  

JSONè·¯å¾„ï¼š`url`

![image](https://github.com/csznet/tgState/assets/127601663/d70e6a42-1f21-4cbb-8ba5-1e9f7d9660a4)


